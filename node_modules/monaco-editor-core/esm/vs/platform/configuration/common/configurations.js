import{addToValueTree,toValuesTree}from"./configuration.js";import{ConfigurationModel}from"./configurationModels.js";import{Extensions,overrideIdentifiersFromKey,OVERRIDE_PROPERTY_REGEX}from"./configurationRegistry.js";import{Registry}from"../../registry/common/platform.js";export class DefaultConfigurationModel extends ConfigurationModel{constructor(e={}){const o=Registry.as(Extensions.Configuration).getConfigurationProperties(),t=Object.keys(o),r=Object.create(null),i=[];for(const t in o){const i=e[t],n=void 0!==i?i:o[t].default;addToValueTree(r,t,n,(e=>console.error(`Conflict in default settings: ${e}`)))}for(const e of Object.keys(r))OVERRIDE_PROPERTY_REGEX.test(e)&&i.push({identifiers:overrideIdentifiersFromKey(e),keys:Object.keys(r[e]),contents:toValuesTree(r[e],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(r,t,i)}}