var __awaiter=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(s,a)}c((n=n.apply(e,r||[])).next())}))};import{Disposable}from"../../../base/common/lifecycle.js";import{equalsIgnoreCase,startsWithIgnoreCase}from"../../../base/common/strings.js";import{URI}from"../../../base/common/uri.js";import{createDecorator}from"../../instantiation/common/instantiation.js";export const IOpenerService=createDecorator("openerService");export const NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener:()=>Disposable.None,registerValidator:()=>Disposable.None,registerExternalUriResolver:()=>Disposable.None,setDefaultExternalOpener(){},registerExternalOpener:()=>Disposable.None,open(){return __awaiter(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return __awaiter(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}});export function matchesScheme(e,r){return URI.isUri(e)?equalsIgnoreCase(e.scheme,r):startsWithIgnoreCase(e,r+":")}export function matchesSomeScheme(e,...r){return r.some((r=>matchesScheme(e,r)))}export function extractSelection(e){let r;const t=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(e.fragment);return t&&(r={startLineNumber:parseInt(t[1]),startColumn:t[2]?parseInt(t[2]):1,endLineNumber:t[4]?parseInt(t[4]):void 0,endColumn:t[4]?t[5]?parseInt(t[5]):1:void 0},e=e.with({fragment:""})),{selection:r,uri:e}}