export class EditorSettingMigration{constructor(t,e){this.key=t,this.migrate=e}apply(t){const e=EditorSettingMigration._read(t,this.key);this.migrate(e,(e=>EditorSettingMigration._read(t,e)),((e,i)=>EditorSettingMigration._write(t,e,i)))}static _read(t,e){if(void 0===t)return;const i=e.indexOf(".");if(i>=0){const r=e.substring(0,i);return this._read(t[r],e.substring(i+1))}return t[e]}static _write(t,e,i){const r=e.indexOf(".");if(r>=0){const o=e.substring(0,r);return t[o]=t[o]||{},void this._write(t[o],e.substring(r+1),i)}t[e]=i}}function registerEditorSettingMigration(t,e){EditorSettingMigration.items.push(new EditorSettingMigration(t,e))}function registerSimpleEditorSettingMigration(t,e){registerEditorSettingMigration(t,((i,r,o)=>{if(void 0!==i)for(const[r,n]of e)if(i===r)return void o(t,n)}))}EditorSettingMigration.items=[];export function migrateOptions(t){EditorSettingMigration.items.forEach((e=>e.apply(t)))}registerSimpleEditorSettingMigration("wordWrap",[[!0,"on"],[!1,"off"]]),registerSimpleEditorSettingMigration("lineNumbers",[[!0,"on"],[!1,"off"]]),registerSimpleEditorSettingMigration("cursorBlinking",[["visible","solid"]]),registerSimpleEditorSettingMigration("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),registerSimpleEditorSettingMigration("renderLineHighlight",[[!0,"line"],[!1,"none"]]),registerSimpleEditorSettingMigration("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),registerSimpleEditorSettingMigration("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),registerSimpleEditorSettingMigration("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),registerSimpleEditorSettingMigration("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),registerSimpleEditorSettingMigration("autoIndent",[[!1,"advanced"],[!0,"full"]]),registerSimpleEditorSettingMigration("matchBrackets",[[!0,"always"],[!1,"never"]]),registerEditorSettingMigration("autoClosingBrackets",((t,e,i)=>{!1===t&&(i("autoClosingBrackets","never"),void 0===e("autoClosingQuotes")&&i("autoClosingQuotes","never"),void 0===e("autoSurround")&&i("autoSurround","never"))})),registerEditorSettingMigration("renderIndentGuides",((t,e,i)=>{void 0!==t&&(i("renderIndentGuides",void 0),void 0===e("guides.indentation")&&i("guides.indentation",!!t))})),registerEditorSettingMigration("highlightActiveIndentGuide",((t,e,i)=>{void 0!==t&&(i("highlightActiveIndentGuide",void 0),void 0===e("guides.highlightActiveIndentation")&&i("guides.highlightActiveIndentation",!!t))}));const suggestFilteredTypesMapping={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};registerEditorSettingMigration("suggest.filteredTypes",((t,e,i)=>{if(t&&"object"==typeof t){for(const r of Object.entries(suggestFilteredTypesMapping))!1===t[r[0]]&&void 0===e(`suggest.${r[1]}`)&&i(`suggest.${r[1]}`,!1);i("suggest.filteredTypes",void 0)}})),registerEditorSettingMigration("quickSuggestions",((t,e,i)=>{if("boolean"==typeof t){const e=t?"on":"off";i("quickSuggestions",{comments:e,strings:e,other:e})}})),registerEditorSettingMigration("experimental.stickyScroll.enabled",((t,e,i)=>{"boolean"==typeof t&&(i("experimental.stickyScroll.enabled",void 0),void 0===e("stickyScroll.enabled")&&i("stickyScroll.enabled",t))})),registerEditorSettingMigration("experimental.stickyScroll.maxLineCount",((t,e,i)=>{"number"==typeof t&&(i("experimental.stickyScroll.maxLineCount",void 0),void 0===e("stickyScroll.maxLineCount")&&i("stickyScroll.maxLineCount",t))}));