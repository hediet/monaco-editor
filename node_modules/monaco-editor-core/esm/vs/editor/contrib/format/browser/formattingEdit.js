import{EditOperation}from"../../../common/core/editOperation.js";import{Range}from"../../../common/core/range.js";export class FormattingEdit{static _handleEolEdits(e,t){let o;const a=[];for(const e of t)"number"==typeof e.eol&&(o=e.eol),e.range&&"string"==typeof e.text&&a.push(e);return"number"==typeof o&&e.hasModel()&&e.getModel().pushEOL(o),a}static _isFullModelReplaceEdit(e,t){if(!e.hasModel())return!1;const o=e.getModel(),a=o.validateRange(t.range);return o.getFullModelRange().equalsRange(a)}static execute(e,t,o){o&&e.pushUndoStop();const a=FormattingEdit._handleEolEdits(e,t);1===a.length&&FormattingEdit._isFullModelReplaceEdit(e,a[0])?e.executeEdits("formatEditsCommand",a.map((e=>EditOperation.replace(Range.lift(e.range),e.text)))):e.executeEdits("formatEditsCommand",a.map((e=>EditOperation.replaceMove(Range.lift(e.range),e.text)))),o&&e.pushUndoStop()}}