var __awaiter=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,s){function a(t){try{u(i.next(t))}catch(t){s(t)}}function o(t){try{u(i.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,o)}u((i=i.apply(t,e||[])).next())}))};import{generateUuid}from"./uuid.js";export function createStringDataTransferItem(t){return{id:generateUuid(),asString:()=>__awaiter(this,void 0,void 0,(function*(){return t})),asFile:()=>{},value:"string"==typeof t?t:void 0}}export function createFileDataTransferItem(t,e,r){return{id:generateUuid(),asString:()=>__awaiter(this,void 0,void 0,(function*(){return""})),asFile:()=>({name:t,uri:e,data:r}),value:void 0}}export class VSDataTransfer{constructor(){this._entries=new Map}get size(){return this._entries.size}has(t){return this._entries.has(this.toKey(t))}get(t){var e;return null===(e=this._entries.get(this.toKey(t)))||void 0===e?void 0:e[0]}append(t,e){const r=this._entries.get(t);r?r.push(e):this._entries.set(this.toKey(t),[e])}replace(t,e){this._entries.set(this.toKey(t),[e])}delete(t){this._entries.delete(this.toKey(t))}*entries(){for(const[t,e]of this._entries.entries())for(const r of e)yield[t,r]}values(){return Array.from(this._entries.values()).flat()}forEach(t){for(const[e,r]of this.entries())t(r,e)}toKey(t){return t.toLowerCase()}}