var __awaiter=this&&this.__awaiter||function(e,n,t,a){return new(t||(t=Promise))((function(o,l){function r(e){try{u(a.next(e))}catch(e){l(e)}}function i(e){try{u(a.throw(e))}catch(e){l(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,i)}u((a=a.apply(e,n||[])).next())}))};let isPseudo="undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const DEFAULT_TAG="i-default";function _format(e,n){let t;return t=0===n.length?e:e.replace(/\{(\d+)\}/g,((e,t)=>{const a=t[0],o=n[a];let l=e;return"string"==typeof o?l=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(l=String(o)),l})),isPseudo&&(t="［"+t.replace(/[aouei]/g,"$&$&")+"］"),t}function findLanguageForModule(e,n){let t=e[n];return t||(t=e["*"],t||null)}function endWithSlash(e){return"/"===e.charAt(e.length-1)?e:e+"/"}function getMessagesFromTranslationsService(e,n,t){return __awaiter(this,void 0,void 0,(function*(){const a=endWithSlash(e)+endWithSlash(n)+"vscode/"+endWithSlash(t),o=yield fetch(a);if(o.ok)return yield o.json();throw new Error(`${o.status} - ${o.statusText}`)}))}function createScopedLocalize(e){return function(n,t){const a=Array.prototype.slice.call(arguments,2);return _format(e[n],a)}}export function localize(e,n,...t){return _format(n,t)}export function getConfiguredDefaultLocale(e){}export function setPseudoTranslation(e){isPseudo=e}export function create(e,n){var t;return{localize:createScopedLocalize(n[e]),getConfiguredDefaultLocale:null!==(t=n.getConfiguredDefaultLocale)&&void 0!==t?t:e=>{}}}export function load(e,n,t,a){var o;const l=null!==(o=a["vs/nls"])&&void 0!==o?o:{};if(!e||0===e.length)return t({localize,getConfiguredDefaultLocale:()=>{var e;return null===(e=l.availableLanguages)||void 0===e?void 0:e["*"]}});const r=l.availableLanguages?findLanguageForModule(l.availableLanguages,e):null,i=null===r||"i-default"===r;let u=".nls";i||(u=u+"."+r);const c=n=>{Array.isArray(n)?n.localize=createScopedLocalize(n):n.localize=createScopedLocalize(n[e]),n.getConfiguredDefaultLocale=()=>{var e;return null===(e=l.availableLanguages)||void 0===e?void 0:e["*"]},t(n)};"function"==typeof l.loadBundle?l.loadBundle(e,r,((t,a)=>{t?n([e+".nls"],c):c(a)})):l.translationServiceUrl&&!i?(()=>{__awaiter(this,void 0,void 0,(function*(){var t;try{const n=yield getMessagesFromTranslationsService(l.translationServiceUrl,r,e);return c(n)}catch(a){if(!r.includes("-"))return console.error(a),n([e+".nls"],c);try{const n=r.split("-")[0],a=yield getMessagesFromTranslationsService(l.translationServiceUrl,n,e);return null!==(t=l.availableLanguages)&&void 0!==t||(l.availableLanguages={}),l.availableLanguages["*"]=n,c(a)}catch(t){return console.error(t),n([e+".nls"],c)}}}))})():n([e+u],c,(t=>{".nls"!==u?(console.error(`Failed to load message bundle for language ${r}. Falling back to the default language:`,t),n([e+".nls"],c)):console.error("Failed trying to load default language strings",t)}))}