let hasDifferentOriginAncestorFlag=!1,sameOriginWindowChainCache=null;function getParentWindowIfSameOrigin(i){if(!i.parent||i.parent===i)return null;try{const n=i.location,e=i.parent.location;if("null"!==n.origin&&"null"!==e.origin&&n.origin!==e.origin)return hasDifferentOriginAncestorFlag=!0,null}catch(i){return hasDifferentOriginAncestorFlag=!0,null}return i.parent}export class IframeUtils{static getSameOriginWindowChain(){if(!sameOriginWindowChainCache){sameOriginWindowChainCache=[];let i,n=window;do{i=getParentWindowIfSameOrigin(n),i?sameOriginWindowChainCache.push({window:n,iframeElement:n.frameElement||null}):sameOriginWindowChainCache.push({window:n,iframeElement:null}),n=i}while(n)}return sameOriginWindowChainCache.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(i,n){if(!n||i===n)return{top:0,left:0};let e=0,t=0;const r=this.getSameOriginWindowChain();for(const i of r){if(e+=i.window.scrollY,t+=i.window.scrollX,i.window===n)break;if(!i.iframeElement)break;const r=i.iframeElement.getBoundingClientRect();e+=r.top,t+=r.left}return{top:e,left:t}}}