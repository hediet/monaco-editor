import*as strings from"../../../base/common/strings.js";import{CursorColumns}from"./cursorColumns.js";function _normalizeIndentationFromWhitespace(t,n,o){let r=0;for(let o=0;o<t.length;o++)"\t"===t.charAt(o)?r=CursorColumns.nextIndentTabStop(r,n):r++;let e="";if(!o){const t=Math.floor(r/n);r%=n;for(let n=0;n<t;n++)e+="\t"}for(let t=0;t<r;t++)e+=" ";return e}export function normalizeIndentation(t,n,o){let r=strings.firstNonWhitespaceIndex(t);return-1===r&&(r=t.length),_normalizeIndentationFromWhitespace(t.substring(0,r),n,o)+t.substring(r)}