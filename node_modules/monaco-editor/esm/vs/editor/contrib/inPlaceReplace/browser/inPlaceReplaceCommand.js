import{Selection}from"../../../common/core/selection.js";export class InPlaceReplaceCommand{constructor(e,n,t){this._editRange=e,this._originalSelection=n,this._text=t}getEditOperations(e,n){n.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,n){const t=n.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new Selection(t.endLineNumber,Math.min(this._originalSelection.positionColumn,t.endColumn),t.endLineNumber,Math.min(this._originalSelection.positionColumn,t.endColumn)):new Selection(t.endLineNumber,t.endColumn-this._text.length,t.endLineNumber,t.endColumn)}}