var __decorate=this&&this.__decorate||function(o,e,t,i){var r,n=arguments.length,c=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(o,e,t,i);else for(var s=o.length-1;s>=0;s--)(r=o[s])&&(c=(n<3?r(c):n>3?r(e,t,c):r(e,t))||c);return n>3&&c&&Object.defineProperty(e,t,c),c},__param=this&&this.__param||function(o,e){return function(t,i){e(t,i,o)}},__awaiter=this&&this.__awaiter||function(o,e,t,i){return new(t||(t=Promise))((function(r,n){function c(o){try{m(i.next(o))}catch(o){n(o)}}function s(o){try{m(i.throw(o))}catch(o){n(o)}}function m(o){var e;o.done?r(o.value):(e=o.value,e instanceof t?e:new t((function(o){o(e)}))).then(c,s)}m((i=i.apply(o,e||[])).next())}))};import{Registry}from"../../../../platform/registry/common/platform.js";import{Extensions}from"../../../../platform/quickinput/common/quickAccess.js";import{QuickCommandNLS}from"../../../common/standaloneStrings.js";import{ICodeEditorService}from"../../../browser/services/codeEditorService.js";import{AbstractEditorCommandsQuickAccessProvider}from"../../../contrib/quickAccess/browser/commandsQuickAccess.js";import{withNullAsUndefined}from"../../../../base/common/types.js";import{IInstantiationService}from"../../../../platform/instantiation/common/instantiation.js";import{IKeybindingService}from"../../../../platform/keybinding/common/keybinding.js";import{ICommandService}from"../../../../platform/commands/common/commands.js";import{ITelemetryService}from"../../../../platform/telemetry/common/telemetry.js";import{IDialogService}from"../../../../platform/dialogs/common/dialogs.js";import{EditorAction,registerEditorAction}from"../../../browser/editorExtensions.js";import{EditorContextKeys}from"../../../common/editorContextKeys.js";import{IQuickInputService}from"../../../../platform/quickinput/common/quickInput.js";let StandaloneCommandsQuickAccessProvider=class extends AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){return withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor())}constructor(o,e,t,i,r,n){super({showAlias:!1},o,t,i,r,n),this.codeEditorService=e}getCommandPicks(){return __awaiter(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};StandaloneCommandsQuickAccessProvider=__decorate([__param(0,IInstantiationService),__param(1,ICodeEditorService),__param(2,IKeybindingService),__param(3,ICommandService),__param(4,ITelemetryService),__param(5,IDialogService)],StandaloneCommandsQuickAccessProvider);export{StandaloneCommandsQuickAccessProvider};class GotoLineAction extends EditorAction{constructor(){super({id:GotoLineAction.ID,label:QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(o){o.get(IQuickInputService).quickAccess.show(StandaloneCommandsQuickAccessProvider.PREFIX)}}GotoLineAction.ID="editor.action.quickCommand";export{GotoLineAction};registerEditorAction(GotoLineAction),Registry.as(Extensions.Quickaccess).registerQuickAccessProvider({ctor:StandaloneCommandsQuickAccessProvider,prefix:StandaloneCommandsQuickAccessProvider.PREFIX,helpEntries:[{description:QuickCommandNLS.quickCommandHelp,commandId:GotoLineAction.ID}]});