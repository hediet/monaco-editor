import{Disposable}from"../../../base/common/lifecycle.js";import{ConfigurationModel}from"./configurationModels.js";import{Extensions}from"./configurationRegistry.js";import{Registry}from"../../registry/common/platform.js";export class DefaultConfiguration extends Disposable{constructor(){super(...arguments),this._configurationModel=new ConfigurationModel}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new ConfigurationModel;const o=Registry.as(Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(o),o)}updateConfigurationModel(o,i){const t=this.getConfigurationDefaultOverrides();for(const e of o){const o=t[e],n=i[e];void 0!==o?this._configurationModel.addValue(e,o):n?this._configurationModel.addValue(e,n.default):this._configurationModel.removeValue(e)}}}