var __decorate=this&&this.__decorate||function(e,t,r,s){var i,n=arguments.length,o=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(n<3?i(o):n>3?i(t,r,o):i(t,r))||o);return n>3&&o&&Object.defineProperty(t,r,o),o},__param=this&&this.__param||function(e,t){return function(r,s){t(r,s,e)}};import{$,append,EventHelper}from"../../../base/browser/dom.js";import{DomEmitter}from"../../../base/browser/event.js";import{StandardKeyboardEvent}from"../../../base/browser/keyboardEvent.js";import{EventType as TouchEventType,Gesture}from"../../../base/browser/touch.js";import{Event}from"../../../base/common/event.js";import{Disposable}from"../../../base/common/lifecycle.js";import{IOpenerService}from"../common/opener.js";import"./link.css";let Link=class extends Disposable{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}constructor(e,t,r={},s){var i;super(),this._link=t,this._enabled=!0,this.el=append(e,$("a.monaco-link",{tabIndex:null!==(i=t.tabIndex)&&void 0!==i?i:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const n=this._register(new DomEmitter(this.el,"click")),o=this._register(new DomEmitter(this.el,"keypress")),a=Event.chain(o.event).map((e=>new StandardKeyboardEvent(e))).filter((e=>3===e.keyCode)).event,l=this._register(new DomEmitter(this.el,TouchEventType.Tap)).event;this._register(Gesture.addTarget(this.el));const h=Event.any(n.event,a,l);this._register(h((e=>{this.enabled&&(EventHelper.stop(e,!0),(null==r?void 0:r.opener)?r.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))}))),this.enabled=!0}};Link=__decorate([__param(3,IOpenerService)],Link);export{Link};